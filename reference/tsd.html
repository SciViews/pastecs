<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Decomposition of one or several regular time series using various methods — tsd • pastecs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="152x152" href="../apple-touch-icon-152x152.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- svPkgdown --><script src="../script.js"></script><!-- themify icon --><link rel="stylesheet" href="../themify-icons.css?nocache=123"><!--<link rel="stylesheet" href="../style.css?nocache=123">--><!-- bootstrat v4.1.1, required CSS from more recent version --><link rel="stylesheet" href="../bootstrap.more.css?nocache=123"><link href="../style.css?nocache=123" rel="stylesheet"><!-- end of addition for svPkgdown --><meta property="og:title" content="Decomposition of one or several regular time series using various methods — tsd"><meta property="og:description" content="Use a decomposition method to split the series into two or more components.
  Decomposition methods are either series filtering/smoothing (difference,
  average, median, evf), deseasoning (loess) or model-based decomposition (reg,
  i.e., regression)."><meta property="og:image" content="https://www.sciviews.org/pastecs/logo.png"><meta name="twitter:card" content="summary"><!-- Mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><!-- preloader start --><div class="preloader">
  <img src="../preloader.gif" alt="loading..."></div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="external-link navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews"></a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q" placeholder="Search..." required><input type="hidden" name="sitesearch" value="https://www.sciviews.org"></div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/pastecs.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/time_representation.html">Time representation in biological time series</a>
    </li>
  </ul></li>
        <li>
  <a href="https://github.com/SciViews/pastecs/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul><div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class="h2">pastecs <small>v1.4.2</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Decomposition of one or several regular time series using various methods</h1>

    <div class="hidden name"><code>tsd.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Use a decomposition method to split the series into two or more components.
  Decomposition methods are either series filtering/smoothing (difference,
  average, median, evf), deseasoning (loess) or model-based decomposition (reg,
  i.e., regression).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsd</span><span class="op">(</span><span class="va">x</span>, specs<span class="op">=</span><span class="cn">NULL</span>, method<span class="op">=</span><span class="st">"loess"</span>,</span>
<span>    type<span class="op">=</span><span class="kw">if</span> <span class="op">(</span><span class="va">method</span> <span class="op">==</span> <span class="st">"census"</span><span class="op">)</span> <span class="st">"multiplicative"</span> <span class="kw">else</span> <span class="st">"additive"</span>,</span>
<span>    lag<span class="op">=</span><span class="fl">1</span>, axes<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, order<span class="op">=</span><span class="fl">1</span>, times<span class="op">=</span><span class="fl">1</span>, sides<span class="op">=</span><span class="fl">2</span>, ends<span class="op">=</span><span class="st">"fill"</span>, weights<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>    s.window<span class="op">=</span><span class="cn">NULL</span>, s.degree<span class="op">=</span><span class="fl">0</span>, t.window<span class="op">=</span><span class="cn">NULL</span>, t.degree<span class="op">=</span><span class="fl">2</span>, robust<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>    trend<span class="op">=</span><span class="cn">FALSE</span>, xreg<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'tsd'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'tsd'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'summary.tsd'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'tsd'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, series<span class="op">=</span><span class="fl">1</span>, stack<span class="op">=</span><span class="cn">TRUE</span>, resid<span class="op">=</span><span class="cn">TRUE</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"col"</span><span class="op">)</span>,</span>
<span>    lty<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"lty"</span><span class="op">)</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, leg<span class="op">=</span><span class="cn">TRUE</span>, lpos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, xlab<span class="op">=</span><span class="st">"time"</span>,</span>
<span>    ylab<span class="op">=</span><span class="st">"series"</span>, main<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Series decomposition by"</span>, <span class="va">x</span><span class="op">$</span><span class="va">specs</span><span class="op">$</span><span class="va">method</span>, <span class="st">"-"</span>,</span>
<span>    <span class="va">x</span><span class="op">$</span><span class="va">specs</span><span class="op">$</span><span class="va">type</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'tsd'</span></span>
<span><span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">e</span>, <span class="va">n</span>, series<span class="op">=</span><span class="cn">NULL</span>, components<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'tsd'</span></span>
<span><span class="fu"><a href="specs.html">specs</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span><span class="co"># S3 method for class 'specs.tsd'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an univariate or multivariate regular time series ('ts' object) to
    be decomposed for <code>tsd()</code>, or a 'tsd' object for the methods</p></dd>

  <dt id="arg-specs">specs<a class="anchor" aria-label="anchor" href="#arg-specs"></a></dt>
<dd><p>specifications are collected from a 'tsd' object, using the
    <code>specs</code> method. This allows for reusing parameters issued from a
    previous similar analysis</p></dd>

  <dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>the method to use to decompose the time series. Currently,
    possible values are: <code>"diff"</code>, <code>"average"</code>, <code>"median"</code>,
    <code>"evf"</code>, <code>"reg"</code>, <code>"loess"</code> (by default) or <code>"census"</code>.
    The corresponding function <code>decXXXX()</code> is applied to each of the series
    in <code>x</code></p></dd>

  <dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>the type of model to use: either <code>"additive"</code> (by default)
    or <code>"multiplicative"</code>. In the additive model, all components must be
    added to reconstruct the initial series. In the multiplicative model, they
    must be multiplied (one components has the same unit as the original series,
    and the other ones are dimensionless multiplicative factors)</p></dd>

  <dt id="arg-lag">lag<a class="anchor" aria-label="anchor" href="#arg-lag"></a></dt>
<dd><p>The lag between the two observations used to calculate differences.
    By default, <code>lag=1</code></p></dd>

  <dt id="arg-axes">axes<a class="anchor" aria-label="anchor" href="#arg-axes"></a></dt>
<dd><p>the number of axes to show in the plot</p></dd>

  <dt id="arg-order">order<a class="anchor" aria-label="anchor" href="#arg-order"></a></dt>
<dd><p>(1) for the method 'difference': the order of the difference
    corresponds to the number of times it is applied, by default <code>order=1</code>,
    (2) for the method 'average': the order of the moving average (the window of
    the average being 2*order+1), centered around the current observation or at
    left of this observation depending upon the value of the <code>sides</code>
    argument. Weights are the same for all observations within the window.
    However, if the argument <code>weights</code> is provided, it supersedes
    <code>order</code>. One can also use <code>order="periodic"</code>. In this case, a
    deseasoning filter is calculated according to the value of <code>frequency</code></p></dd>

  <dt id="arg-times">times<a class="anchor" aria-label="anchor" href="#arg-times"></a></dt>
<dd><p>The number of times to apply the method (by default, once)</p></dd>

  <dt id="arg-sides">sides<a class="anchor" aria-label="anchor" href="#arg-sides"></a></dt>
<dd><p>If 2 (by default), the window is centered around the current
    observation. If 1, the window is at left of the current observation
    (including it)</p></dd>

  <dt id="arg-ends">ends<a class="anchor" aria-label="anchor" href="#arg-ends"></a></dt>
<dd><p>either "NAs" (fill first and last values that are not calculable
    with NAs), or "fill" (fill them with the average of observations before
    applying the filter, by default), or "circular" (use last values for
    estimating first ones and vice versa), or "periodic" (use entire periods of
    contiguous cycles, deseasoning)</p></dd>

  <dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>a vector indicating weight to give to all observations in the
  window. This argument has the priority over <code>order</code></p></dd>

  <dt id="arg-s-window">s.window<a class="anchor" aria-label="anchor" href="#arg-s-window"></a></dt>
<dd><p>the width of the window used to extract the seasonal
    component. Use an odd value equal or just larger than the number of annual
    values (frequency of the time series). Use another value to extract other
    cycles (circadian, lunar,...). Using <code>s.window="periodic"</code> ensures a
    correct value for extracting a seasonal component when the time scale is in
    years units</p></dd>

  <dt id="arg-s-degree">s.degree<a class="anchor" aria-label="anchor" href="#arg-s-degree"></a></dt>
<dd><p>the order of the polynome to use to extract the seasonal
    component (0 or 1). By default <code>s.degree=0</code></p></dd>

  <dt id="arg-t-window">t.window<a class="anchor" aria-label="anchor" href="#arg-t-window"></a></dt>
<dd><p>the width of the window to use to extract the general trend
    when <code>trend=TRUE</code> (indicate an odd value). If this parameter is not
    provided, a reasonable value is first calculated, and then used by the
    algorithm.</p></dd>

  <dt id="arg-t-degree">t.degree<a class="anchor" aria-label="anchor" href="#arg-t-degree"></a></dt>
<dd><p>the order of the polynome to use to extract the general trend
    (0, 1 or 2). By default <code>t.degree=2</code></p></dd>

  <dt id="arg-robust">robust<a class="anchor" aria-label="anchor" href="#arg-robust"></a></dt>
<dd><p>if <code>TRUE</code> a robust regression method is used. Otherwise
    (<code>FALSE</code>), by default, a classical least-square regression is used</p></dd>

  <dt id="arg-trend">trend<a class="anchor" aria-label="anchor" href="#arg-trend"></a></dt>
<dd><p>If <code>TRUE</code> a trend is calculated (under R only). Otherwise,
    the series is decomposed into a seasonal component and residuals only</p></dd>

  <dt id="arg-xreg">xreg<a class="anchor" aria-label="anchor" href="#arg-xreg"></a></dt>
<dd><p>a second regular time series or a vector of the same length as
    <code>x</code> with corresponding values from the regression model</p></dd>

  <dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>a 'tsd' object as returned by the function <code>tsd()</code>, or any
    of the <code>decXXXX()</code> functions</p></dd>

  <dt id="arg-e">e<a class="anchor" aria-label="anchor" href="#arg-e"></a></dt>
<dd><p>a 'tsd' object as returned by the function <code>tsd()</code>, or any of
    the <code>decXXXX()</code> functions</p></dd>

  <dt id="arg-series">series<a class="anchor" aria-label="anchor" href="#arg-series"></a></dt>
<dd><p>(1) for <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>: the series to plot. By default,
    <code>series=1</code>, the first (or possibly unique) series in the 'tsd' object
    is plotted. (2) for <code>extract</code>: the name or the index of the series to
    extract. If <code>series</code> is provided, then <code>n</code> is ignored. By default,
    <code>series=NULL</code>. It is also possible to use negative indices. In this
    case, all series are extracted, except those ones</p></dd>

  <dt id="arg-stack">stack<a class="anchor" aria-label="anchor" href="#arg-stack"></a></dt>
<dd><p>graphs of each component are either stacked (<code>stack=TRUE</code>,
  by default), or superposed on the same graph <code>stack=FALSE</code></p></dd>

  <dt id="arg-resid">resid<a class="anchor" aria-label="anchor" href="#arg-resid"></a></dt>
<dd><p>do we have to plot also the "residuals" components
    (<code>resid=TRUE</code>, by default) or not? Usually, in a stacked graph, you
    would like to plot the residuals, while in a superposed graph, you would not</p></dd>

  <dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>color of the plot</p></dd>

  <dt id="arg-lty">lty<a class="anchor" aria-label="anchor" href="#arg-lty"></a></dt>
<dd><p>line type for the plot</p></dd>

  <dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>the labels to use for all y-axes in a stacked graph, or in the
    legend for a superposed graph. By default, the names of the components
    ("trend", "seasonal", "deseasoned", "filtered", "residuals", ...) are used</p></dd>

  <dt id="arg-leg">leg<a class="anchor" aria-label="anchor" href="#arg-leg"></a></dt>
<dd><p>only used when <code>stack=FALSE</code>. Do we plot a legend
    (<code>leg=TRUE</code> or not?</p></dd>

  <dt id="arg-lpos">lpos<a class="anchor" aria-label="anchor" href="#arg-lpos"></a></dt>
<dd><p>position of the upper-left corner of the legend box in the graph
    coordinates (x,y). By default, <code>leg=c(0,0)</code></p></dd>

  <dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>the label of the x-axis</p></dd>

  <dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>the label of the y-axis</p></dd>

  <dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>the main title of the graph</p></dd>

  <dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>the number of series to extract (from series 1 to series n). By
    default, n equals the number of series in the 'tsd' object. If both
    <code>series</code> and <code>components</code> arguments are NULL, all series and
    components are extracted and this method has exactly the same effect as
    <code>tseries</code></p></dd>

  <dt id="arg-components">components<a class="anchor" aria-label="anchor" href="#arg-components"></a></dt>
<dd><p>the names or indices of the components to extract. If
    <code>components=NULL</code> (by default), then all components of the selected
    series are extracted. It is also possible to specify negative indices. In
    this case, all components are extracted, except those ones</p></dd>

  <dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>(1) for <code>tsd()</code>: further arguments to pass to the
  corresponding <code>decXXXX()</code> function. (2) for <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>: further
  graphical arguments, (3) unused for the other functions or methods</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>To eliminate trend from a series, use "diff" or use "loess" with
  <code>trend=TRUE</code>. If you know the shape of the trend (linear, exponential,
  periodic, etc.), you can also use it with the "reg" (regression) method. To
  eliminate or extract seasonal components, you can use "loess" if the seasonal
  component is additive, or "census" if it is multiplicative. You can also use
  "average" with argument <code>order="periodic"</code> and with either an additive or
  a multiplicative model, although the later method is often less powerful than
  "loess" or "census". If you want to extract a seasonal cycle with a given
  shape (for instance, a sinusoid), use the "reg" method with a fitted
  sinusoidal equation. If you want to identify levels in the series, use the
  "median" method. To smooth the series, you can use preferably the "evf"
  (eigenvector filtering), or the "average" methods, but you can also use
  "median". To extract most important components from the series (no matter if
  they are cycles -seasonal or not-, or long-term trends), you should use the
  "evf" method. For more information on each of these methods, see online help
  of the corresponding <code>decXXXX()</code> functions.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of type 'tsd' is returned. It has methods <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>,
  <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, <code><a href="extract.html">extract()</a></code> and <code><a href="specs.html">specs()</a></code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Kendall, M., 1976. <em>Time-series.</em> Charles Griffin &amp; Co Ltd. 197 pp.</p>
<p>Laloire, J.C., 1972. <em>Méthodes du traitement des chroniques.</em> Dunod, Paris, 194 pp.</p>
<p>Legendre, L. &amp; P. Legendre, 1984. <em>Ecologie numérique. Tome 2: La structure
  des données écologiques.</em> Masson, Paris. 335 pp.</p>
<p>Malinvaud, E., 1978. <em>Méthodes statistiques de l'économétrie.</em> Dunod, Paris. 846 pp.</p>
<p>Philips, L. &amp; R. Blomme, 1973. <em>Analyse chronologique.</em> Université
  Catholique de Louvain. Vander ed. 339 pp.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Frédéric Ibanez (<a href="mailto:ibanez@obs-vlfr.fr">ibanez@obs-vlfr.fr</a>),
  Philippe Grosjean (<a href="mailto:phgrosjean@sciviews.org">phgrosjean@sciviews.org</a>)</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>If you have to decompose a single time series, you could also use the
  corresponding <code>decXXXX()</code> function directly. In the case of a multivariate
  regular time series, <code>tsd()</code> is more convenient because it decompose all
  times series of a set at once!</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="tseries.html">tseries</a></code>, <code><a href="decdiff.html">decdiff</a></code>, <code><a href="decaverage.html">decaverage</a></code>,
  <code><a href="decmedian.html">decmedian</a></code>, <code><a href="decevf.html">decevf</a></code>, <code><a href="decreg.html">decreg</a></code>,
  <code><a href="decloess.html">decloess</a></code>, <code><a href="deccensus.html">deccensus</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">releve</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Regulate the series and extract them as a time series object</span></span></span>
<span class="r-in"><span><span class="va">rel.regy</span> <span class="op">&lt;-</span> <span class="fu"><a href="regul.html">regul</a></span><span class="op">(</span><span class="va">releve</span><span class="op">$</span><span class="va">Day</span>, <span class="va">releve</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, xmin<span class="op">=</span><span class="fl">6</span>, n<span class="op">=</span><span class="fl">87</span>, units<span class="op">=</span><span class="st">"daystoyears"</span>,</span></span>
<span class="r-in"><span>        frequency<span class="op">=</span><span class="fl">24</span>, tol<span class="op">=</span><span class="fl">2.2</span>, methods<span class="op">=</span><span class="st">"linear"</span>, datemin<span class="op">=</span><span class="st">"21/03/1989"</span>,</span></span>
<span class="r-in"><span>        dateformat<span class="op">=</span><span class="st">"d/m/Y"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> A 'tol' of 2.2 in 'days' is 0.00602327173169062 in 'years'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 'tol' was adjusted to 0.00595238095238083 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">rel.ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="tseries.html">tseries</a></span><span class="op">(</span><span class="va">rel.regy</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Decompose all series in the set with the "loess" method</span></span></span>
<span class="r-in"><span><span class="va">rel.dec</span> <span class="op">&lt;-</span> <span class="fu">tsd</span><span class="op">(</span><span class="va">rel.ts</span>, method<span class="op">=</span><span class="st">"loess"</span>, s.window<span class="op">=</span><span class="fl">13</span>, trend<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rel.dec</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  tsd(x = rel.ts, method = "loess", s.window = 13, trend = FALSE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Series:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Astegla" "Chae"    "Dity"    "Gymn"    "Melosul" "Navi"   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Astegla </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Chae </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Dity </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Gymn </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Melosul </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Components for Navi </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "deseasoned" "seasonal"  </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rel.dec</span>, series<span class="op">=</span><span class="fl">5</span>, col<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>    <span class="co"># An plot series 5</span></span></span>
<span class="r-plt img"><img src="tsd-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract "deseasoned" components</span></span></span>
<span class="r-in"><span><span class="va">rel.des</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">rel.dec</span>, series<span class="op">=</span><span class="fl">3</span><span class="op">:</span><span class="fl">6</span>, components<span class="op">=</span><span class="st">"deseasoned"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rel.des</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,<span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Dity.deseasoned Gymn.deseasoned Melosul.deseasoned Navi.deseasoned</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]    -1856.450218       728.08507          11232.346        1263.204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]     -326.203029       925.87962           4857.551        2193.775</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]       -5.397257       958.98367          12218.422        2141.072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]      305.799403       725.75255          19485.965        2042.397</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]      510.738352       389.66511          19241.367        2524.486</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]      673.469410        46.52693          16485.644        2800.179</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]      666.811431      -205.96157          17601.801        2505.898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]      668.430789       928.90368          16997.344        2273.421</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]      694.149206     -1949.28870          17367.641        1813.558</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]      696.564421     -1890.15039          16520.938        1603.852</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Further decompose these components with a moving average</span></span></span>
<span class="r-in"><span><span class="va">rel.des.dec</span> <span class="op">&lt;-</span> <span class="fu">tsd</span><span class="op">(</span><span class="va">rel.des</span>, method<span class="op">=</span><span class="st">"average"</span>, order<span class="op">=</span><span class="fl">2</span>, times<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rel.des.dec</span>, series<span class="op">=</span><span class="fl">3</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsd-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># In this case, a superposed graph is more appropriate:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">rel.des.dec</span>, series<span class="op">=</span><span class="fl">3</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>, stack<span class="op">=</span><span class="cn">FALSE</span>, resid<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>        labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"without season cycle"</span>, <span class="st">"trend"</span><span class="op">)</span>, lpos<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">55000</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsd-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Extract residuals from the latter decomposition</span></span></span>
<span class="r-in"><span><span class="va">rel.res2</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract.html">extract</a></span><span class="op">(</span><span class="va">rel.des.dec</span>, components<span class="op">=</span><span class="st">"residuals"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><!-- footer --><!--<footer class="bg-secondary">--><div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo"><p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline"><li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul></div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links"><li>
                            <a href="http://econum.umons.ac.be" class="external-link">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/" class="external-link">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/" class="external-link">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/" class="external-link">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/" class="external-link">UMONS</a>
                        </li>

                    </ul></div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links"><li>
                            <a href="https://www.sciviews.org/software/svbox" class="external-link">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r" class="external-link">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage" class="external-link">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog" class="external-link">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about" class="external-link">About</a>
                        </li>

                    </ul></div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> © All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right"><li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="external-link font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul></div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

      </footer></div>






  </body></html>

